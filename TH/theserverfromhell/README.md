### ‚ú® ‡∏ö‡∏ó‡∏ô‡∏≥
The Server From Hell ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡πâ‡∏≠‡∏á CTF ‡∏™‡∏≤‡∏¢ Linux ‡∏ö‡∏ô TryHackMe ‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏≤‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£ enumerate ‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ã‡πà‡∏≠‡∏ô, ‡πÄ‡∏à‡∏≠ misconfigured NFS share, crack ‡πÑ‡∏ü‡∏•‡πå zip, ‡πÉ‡∏ä‡πâ SSH key ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡πâ‡∏ß‡∏¢ Linux capabilities ‡∏à‡∏ô‡πÑ‡∏î‡πâ root shell

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
- ‡∏´‡∏≤‡∏û‡∏≠‡∏£‡πå‡∏ï/‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà ‚Äú‡∏ã‡πà‡∏≠‡∏ô‚Äù ‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ `nc`
- ‡πÉ‡∏ä‡πâ **NFS (2049/tcp)** ‡∏ó‡∏µ‡πà misconfigured ‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚Äú‡∏î‡∏∂‡∏á‡∏Å‡∏∏‡∏ç‡πÅ‡∏à SSH‚Äù ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- ‡∏´‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å **IRB (Interactive Ruby)** ‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ä‡∏•‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á
- ‡πÉ‡∏ä‡πâ **capabilities ‡∏Ç‡∏≠‡∏á /bin/tar** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏´‡πâ‡∏≤‡∏° ‚Üí ‡πÑ‡∏î‡πâ hash ‡∏Ç‡∏≠‡∏á root
- Crack hash ‡∏à‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô ‚Üí `su root` ‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πá‡∏ö flag

# üß† TryHackMe - The Server From Hell

üü° ‡∏´‡∏°‡∏ß‡∏î: CTF / Boot-to-Root  
üß© ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å: Medium
üïµÔ∏è‚Äç‚ôÇÔ∏è ‡πÇ‡∏´‡∏°‡∏î: CTF ‡πÅ‡∏ö‡∏ö Boot-to-Root
üß© URL: The Server From Hell
üë®‚Äçüíª ‡∏ú‡∏π‡πâ‡∏ó‡∏≥: Thanyakorn

---

## üìö ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
- üîé 1) Recon & Port Scan
- üßµ 2) Banner/Manual Check ‡∏î‡πâ‡∏ß‡∏¢ `nc`
- üì¶ 3) NFS Enumeration & Mount
- üîë 4) SSH ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏°‡∏≤
- üßØ 5) ‡∏´‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å IRB ‚Üí ‡πÑ‡∏î‡πâ Bash ‡∏à‡∏£‡∏¥‡∏á
- üßó 6) Privilege Escalation ‡∏î‡πâ‡∏ß‡∏¢ Linux Capabilities (tar)
- üß® 7) Crack `/etc/shadow` ‚Üí `su root`
- üèÅ 8) ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏Å‡πÇ‡∏ü‡∏•‡∏ß‡πå + ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

---

## üìå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå
> ‚ÄúStart at port 1337 and enumerate your way. Good luck.‚Äù

## üîç 1. Recon & Port Scan
‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
```bash
nmap -sC -sV -Pn <TARGET_IP>
```
- `-sC` ‚Üí ‡∏£‡∏±‡∏ô Nmap Default Scripts (NSE) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏∂‡∏Å ‡πÄ‡∏ä‡πà‡∏ô SSL cert, FTP anon, SSH key fingerprint
- `-sV` ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô service
- `-Pn` ‚Üí ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö service ‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤ host ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ -sC ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ Nmap ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ script ‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å ‚Üí ‡πÅ‡∏ï‡πà‡∏•‡∏∞ script ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ response ‡∏´‡∏£‡∏∑‡∏≠ timeout ‡∏à‡∏≤‡∏Å service ‚Üí ‡∏ó‡∏≥‡πÉ‡∏´‡πâ **‡∏™‡πÅ‡∏Å‡∏ô‡∏ä‡πâ‡∏≤** ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
```bash
nmap -sV -vv <TARGET_IP>
```
![nmap](images/1.png)

- ‡∏ï‡∏±‡∏î `-sC` ‡∏≠‡∏≠‡∏Å ‚Üí ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô NSE scripts ‚Üí scan ‡πÑ‡∏ß‡∏Å‡∏ß‡πà‡∏≤
- ‡πÉ‡∏ä‡πâ `-sV` ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‚Üí ‡πÄ‡∏ô‡πâ‡∏ô‡∏î‡∏π service ‡πÅ‡∏•‡∏∞ version
- ‡πÄ‡∏û‡∏¥‡πà‡∏° `-vv` (very verbose) ‚Üí ‡πÉ‡∏´‡πâ Nmap ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏ó‡∏µ‡∏•‡∏∞‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÅ‡∏ö‡∏ö realtime ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‚Äú‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‚Äù ‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏¢‡∏±‡∏á‡∏™‡πÅ‡∏Å‡∏ô‡∏≠‡∏¢‡∏π‡πà

‚úÖ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ ‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏õ‡∏¥‡∏î + service ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡πÄ‡∏£‡πá‡∏ß‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡∏ó‡∏≥ banner grabbing/manual test ‡∏ï‡πà‡∏≠ ‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏ä‡πâ nc

### ‚ÑπÔ∏è ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô
‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å (20+ ‡∏û‡∏≠‡∏£‡πå‡∏ï) ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÅ‡∏õ‡∏•‡∏Å ‡πÜ ‡πÄ‡∏ä‡πà‡∏ô `10628`, `16000`, `2607`, `5001` ‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô service ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏´‡∏£‡∏∑‡∏≠ **honeyport** ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô CTF ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏≠‡∏Å

## üì° 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Banner ‡πÅ‡∏•‡∏∞ Web Services
> ‚ÄúStart at port 1337 and enumerate your way. Good luck.‚Äù

‡∏à‡∏∂‡∏á‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ nc ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏û‡∏≠‡∏£‡πå‡∏ï 1337:
```bash
nc 10.201.52.151 1337
```

![nc](images/2.png)

‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:
```bash
Welcome traveller, to the beginning of your journey
To begin, find the trollface
Legend says he's hiding in the first 100 ports
Try printing the banners from the ports
```

üìå ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á ‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡∏û‡∏≠‡∏£‡πå‡∏ï (1‚Äì100) ‡πÅ‡∏•‡∏∞‡∏•‡∏≠‡∏á ‡∏î‡∏∂‡∏á banner ‡∏à‡∏≤‡∏Å‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ß‡πà‡∏≤ ‚Äútrollface‚Äù ‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô












